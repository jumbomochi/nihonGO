import { GenkiLesson } from '@/types/genki';
import { generateLessonAudioTracks } from '../audio/audioManifest';

export const lesson16: GenkiLesson = {
  id: 'genki2-lesson16',
  book: 'genki2',
  lessonNumber: 16,
  title: 'Lost and Found',
  titleJapanese: 'わすれもの',
  description:
    'Learn resultative states, completion with regret, and describe things left in certain states.',
  objectives: [
    'Express resultative states with ～てある',
    'Describe preparation/leaving states with ～ておく',
    'Express completion or regret with ～てしまう',
    'Use ～てある vs ～ている distinction',
    'Handle lost and found situations',
  ],
  estimatedMinutes: 95,
  sections: [
    {
      id: 'l16-dialogue',
      type: 'dialogue',
      title: 'Dialogue',
      titleJapanese: 'かいわ',
      content: {
        dialogue: {
          id: 'l16-d01',
          title: 'Lost and Found',
          titleJapanese: 'わすれもの',
          context: 'Mary realizes she left her umbrella on the train and goes to the lost and found.',
          characters: ['Mary', 'Staff'],
          lines: [
            {
              speaker: 'Mary',
              japanese: 'すみません、電車に傘を忘れてしまったんですが...',
              reading: 'すみません、でんしゃにかさをわすれてしまったんですが...',
              english: 'Excuse me, I accidentally left my umbrella on the train...',
            },
            {
              speaker: 'Staff',
              japanese: 'どんな傘ですか。',
              reading: 'どんなかさですか。',
              english: 'What kind of umbrella is it?',
            },
            {
              speaker: 'Mary',
              japanese: '赤い傘です。名前が書いてあります。',
              reading: 'あかいかさです。なまえがかいてあります。',
              english: 'It\'s a red umbrella. My name is written on it.',
            },
            {
              speaker: 'Staff',
              japanese: '少々お待ちください。探してみます。',
              reading: 'しょうしょうおまちください。さがしてみます。',
              english: "Please wait a moment. I'll look for it.",
            },
            {
              speaker: 'Staff',
              japanese: 'この傘ですか。棚に置いてありました。',
              reading: 'このかさですか。たなにおいてありました。',
              english: 'Is this the umbrella? It was placed on the shelf.',
            },
            {
              speaker: 'Mary',
              japanese: 'あ、それです！よかった、見つかって。',
              reading: 'あ、それです！よかった、みつかって。',
              english: "Oh, that's it! I'm glad it was found.",
            },
            {
              speaker: 'Staff',
              japanese: 'お名前とご住所を書いていただけますか。',
              reading: 'おなまえとごじゅうしょをかいていただけますか。',
              english: 'Could you please write your name and address?',
            },
            {
              speaker: 'Mary',
              japanese: 'はい。ここに書けばいいですか。',
              reading: 'はい。ここにかけばいいですか。',
              english: 'Yes. Should I write here?',
            },
            {
              speaker: 'Staff',
              japanese: 'はい、そこにお願いします。次からは気をつけてくださいね。',
              reading: 'はい、そこにおねがいします。つぎからはきをつけてくださいね。',
              english: 'Yes, there please. Please be careful from now on.',
            },
            {
              speaker: 'Mary',
              japanese: 'ありがとうございます。電車を降りる前に確認しておきます。',
              reading: 'ありがとうございます。でんしゃをおりるまえにかくにんしておきます。',
              english: "Thank you. I'll make sure to check before getting off the train.",
            },
          ],
          audioFile: 'genki2/lesson16/dialogue.mp3',
        },
      },
    },
    {
      id: 'l16-vocabulary',
      type: 'vocabulary',
      title: 'Vocabulary',
      titleJapanese: 'たんご',
      content: {
        vocabulary: [
          {
            id: 'l16-v01',
            japanese: '忘れ物',
            reading: 'わすれもの',
            romaji: 'wasuremono',
            english: 'lost item; forgotten item',
            partOfSpeech: 'noun',
            category: 'Lost & Found',
          },
          {
            id: 'l16-v02',
            japanese: '落とし物',
            reading: 'おとしもの',
            romaji: 'otoshimono',
            english: 'dropped item',
            partOfSpeech: 'noun',
            category: 'Lost & Found',
          },
          {
            id: 'l16-v03',
            japanese: '交番',
            reading: 'こうばん',
            romaji: 'kouban',
            english: 'police box',
            partOfSpeech: 'noun',
            category: 'Places',
          },
          {
            id: 'l16-v04',
            japanese: '棚',
            reading: 'たな',
            romaji: 'tana',
            english: 'shelf',
            partOfSpeech: 'noun',
            category: 'Furniture',
          },
          {
            id: 'l16-v05',
            japanese: '住所',
            reading: 'じゅうしょ',
            romaji: 'juusho',
            english: 'address',
            partOfSpeech: 'noun',
            category: 'Information',
          },
          {
            id: 'l16-v06',
            japanese: '電話番号',
            reading: 'でんわばんごう',
            romaji: 'denwa bangou',
            english: 'phone number',
            partOfSpeech: 'noun',
            category: 'Information',
          },
          {
            id: 'l16-v07',
            japanese: '届ける',
            reading: 'とどける',
            romaji: 'todokeru',
            english: 'to deliver; to report',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v08',
            japanese: '届く',
            reading: 'とどく',
            romaji: 'todoku',
            english: 'to arrive; to reach',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v09',
            japanese: '見つかる',
            reading: 'みつかる',
            romaji: 'mitsukaru',
            english: 'to be found',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v10',
            japanese: '見つける',
            reading: 'みつける',
            romaji: 'mitsukeru',
            english: 'to find',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v11',
            japanese: '落とす',
            reading: 'おとす',
            romaji: 'otosu',
            english: 'to drop',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v12',
            japanese: '落ちる',
            reading: 'おちる',
            romaji: 'ochiru',
            english: 'to fall',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v13',
            japanese: '置く',
            reading: 'おく',
            romaji: 'oku',
            english: 'to put; to place',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v14',
            japanese: '閉まる',
            reading: 'しまる',
            romaji: 'shimaru',
            english: 'to close (intransitive)',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v15',
            japanese: '閉める',
            reading: 'しめる',
            romaji: 'shimeru',
            english: 'to close (transitive)',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v16',
            japanese: '開く',
            reading: 'あく',
            romaji: 'aku',
            english: 'to open (intransitive)',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v17',
            japanese: '開ける',
            reading: 'あける',
            romaji: 'akeru',
            english: 'to open (transitive)',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v18',
            japanese: '壊れる',
            reading: 'こわれる',
            romaji: 'kowareru',
            english: 'to break (intransitive)',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v19',
            japanese: '壊す',
            reading: 'こわす',
            romaji: 'kowasu',
            english: 'to break (transitive)',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v20',
            japanese: '汚れる',
            reading: 'よごれる',
            romaji: 'yogoreru',
            english: 'to get dirty',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v21',
            japanese: '汚す',
            reading: 'よごす',
            romaji: 'yogosu',
            english: 'to make dirty',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v22',
            japanese: '～てある',
            reading: '～てある',
            romaji: '~te aru',
            english: 'is in state of (resultative)',
            partOfSpeech: 'expression',
            category: 'Grammar',
          },
          {
            id: 'l16-v23',
            japanese: '～てしまう',
            reading: '～てしまう',
            romaji: '~te shimau',
            english: 'end up doing; completely do',
            partOfSpeech: 'expression',
            category: 'Grammar',
          },
          {
            id: 'l16-v24',
            japanese: '少々',
            reading: 'しょうしょう',
            romaji: 'shoushou',
            english: 'a little (formal)',
            partOfSpeech: 'adverb',
            category: 'Formal',
          },
          {
            id: 'l16-v25',
            japanese: 'ご～',
            reading: 'ご～',
            romaji: 'go~',
            english: 'honorific prefix',
            partOfSpeech: 'prefix',
            category: 'Formal',
          },
          {
            id: 'l16-v26',
            japanese: '確認',
            reading: 'かくにん',
            romaji: 'kakunin',
            english: 'confirmation',
            partOfSpeech: 'noun',
            category: 'Actions',
          },
          {
            id: 'l16-v27',
            japanese: '片付ける',
            reading: 'かたづける',
            romaji: 'katazukeru',
            english: 'to tidy up; to put away',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v28',
            japanese: '片付く',
            reading: 'かたづく',
            romaji: 'katazuku',
            english: 'to be tidied up',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v29',
            japanese: '消す',
            reading: 'けす',
            romaji: 'kesu',
            english: 'to turn off; to erase',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v30',
            japanese: '消える',
            reading: 'きえる',
            romaji: 'kieru',
            english: 'to disappear; to go out',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v31',
            japanese: 'つける',
            reading: 'つける',
            romaji: 'tsukeru',
            english: 'to turn on; to attach',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v32',
            japanese: 'つく',
            reading: 'つく',
            romaji: 'tsuku',
            english: 'to be turned on; to be attached',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v33',
            japanese: '直す',
            reading: 'なおす',
            romaji: 'naosu',
            english: 'to fix; to repair',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v34',
            japanese: '直る',
            reading: 'なおる',
            romaji: 'naoru',
            english: 'to be fixed; to heal',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l16-v35',
            japanese: '窓',
            reading: 'まど',
            romaji: 'mado',
            english: 'window',
            partOfSpeech: 'noun',
            category: 'House',
          },
          {
            id: 'l16-v36',
            japanese: 'ドア',
            reading: 'ドア',
            romaji: 'doa',
            english: 'door',
            partOfSpeech: 'noun',
            category: 'House',
          },
          {
            id: 'l16-v37',
            japanese: '電気',
            reading: 'でんき',
            romaji: 'denki',
            english: 'electricity; light',
            partOfSpeech: 'noun',
            category: 'House',
          },
          {
            id: 'l16-v38',
            japanese: 'エアコン',
            reading: 'エアコン',
            romaji: 'eakon',
            english: 'air conditioner',
            partOfSpeech: 'noun',
            category: 'House',
          },
          {
            id: 'l16-v39',
            japanese: '次から',
            reading: 'つぎから',
            romaji: 'tsugi kara',
            english: 'from now on',
            partOfSpeech: 'expression',
            category: 'Expressions',
          },
          {
            id: 'l16-v40',
            japanese: '気をつける',
            reading: 'きをつける',
            romaji: 'ki wo tsukeru',
            english: 'to be careful',
            partOfSpeech: 'expression',
            category: 'Expressions',
          },
        ],
      },
    },
    {
      id: 'l16-grammar',
      type: 'grammar',
      title: 'Grammar',
      titleJapanese: 'ぶんぽう',
      content: {
        grammar: [
          {
            id: 'l16-g01',
            title: '～てある (Resultative state)',
            pattern: 'Transitive Verb-て + ある',
            explanation:
              '～てある describes a state resulting from a deliberate action (someone did it on purpose). It implies intentional preparation. The object becomes the subject with が. Compare: 窓が開けてある (The window has been opened [by someone]) vs. 窓が開いている (The window is open [state]).',
            examples: [
              {
                japanese: '名前が書いてあります。',
                reading: 'なまえがかいてあります。',
                english: 'The name is written (someone wrote it).',
                breakdown: '書く(transitive) → 書いてある',
              },
              {
                japanese: 'エアコンがつけてある。',
                reading: 'エアコンがつけてある。',
                english: 'The air conditioner has been turned on.',
                breakdown: 'つける(transitive) → つけてある',
              },
              {
                japanese: 'テーブルの上に花が置いてあります。',
                reading: 'テーブルのうえにはながおいてあります。',
                english: 'Flowers have been placed on the table.',
                breakdown: '置く(transitive) → 置いてある',
              },
              {
                japanese: '準備はもうしてある。',
                reading: 'じゅんびはもうしてある。',
                english: 'The preparations have already been made.',
                breakdown: 'する → してある',
              },
            ],
            culturalNote:
              'てある emphasizes that someone intentionally did this for a reason, often implying preparation or care.',
          },
          {
            id: 'l16-g02',
            title: '～ている vs ～てある',
            pattern: 'Intransitive-ている / Transitive-てある',
            explanation:
              'Both describe states, but ている (with intransitive verbs) describes a state without implying intent, while てある (with transitive verbs) implies someone intentionally did it. Many Japanese verbs come in pairs: intransitive (自動詞) and transitive (他動詞).',
            examples: [
              {
                japanese: '窓が開いている。',
                reading: 'まどがあいている。',
                english: 'The window is open. (state, no agent implied)',
                breakdown: '開く(intransitive) → 開いている',
              },
              {
                japanese: '窓が開けてある。',
                reading: 'まどがあけてある。',
                english: 'The window has been opened. (someone opened it)',
                breakdown: '開ける(transitive) → 開けてある',
              },
              {
                japanese: '電気が消えている。',
                reading: 'でんきがきえている。',
                english: 'The light is off. (state)',
                breakdown: '消える(intransitive) → 消えている',
              },
              {
                japanese: '電気が消してある。',
                reading: 'でんきがけしてある。',
                english: 'The light has been turned off. (by someone)',
                breakdown: '消す(transitive) → 消してある',
              },
            ],
          },
          {
            id: 'l16-g03',
            title: '～てしまう (Completion / Regret)',
            pattern: 'Verb-て + しまう/しまいます',
            explanation:
              '～てしまう has two uses: (1) Complete an action entirely ("finish doing"), (2) Express regret or that something unfortunate happened ("end up doing"). Context determines the meaning. Casual contractions: ～ちゃう (てしまう) and ～じゃう (でしまう).',
            examples: [
              {
                japanese: '宿題を全部やってしまいました。',
                reading: 'しゅくだいをぜんぶやってしまいました。',
                english: 'I finished all my homework.',
                breakdown: 'やって + しまいました (completion)',
              },
              {
                japanese: '傘を忘れてしまった。',
                reading: 'かさをわすれてしまった。',
                english: 'I (unfortunately) forgot my umbrella.',
                breakdown: '忘れて + しまった (regret)',
              },
              {
                japanese: 'ケーキを全部食べちゃった。',
                reading: 'ケーキをぜんぶたべちゃった。',
                english: 'I ate all the cake (oops).',
                breakdown: '食べて + しまった → 食べちゃった (casual)',
              },
              {
                japanese: '約束を忘れてしまってすみません。',
                reading: 'やくそくをわすれてしまってすみません。',
                english: "I'm sorry I forgot our appointment.",
                breakdown: '忘れてしまって + すみません (apologizing)',
              },
            ],
          },
          {
            id: 'l16-g04',
            title: 'Transitive and Intransitive Verb Pairs',
            pattern: 'Transitive (他動詞) does action to object / Intransitive (自動詞) happens naturally',
            explanation:
              'Japanese has many verb pairs where one is transitive (takes を) and one is intransitive (takes が). Common patterns: ~える/~aru (開ける/開く), ~す/~る (落とす/落ちる). Learning pairs together helps with ている/てある usage.',
            examples: [
              {
                japanese: 'ドアを開ける / ドアが開く',
                reading: 'ドアをあける / ドアがあく',
                english: 'to open the door / the door opens',
                breakdown: '開ける(trans) / 開く(intrans)',
              },
              {
                japanese: '電気を消す / 電気が消える',
                reading: 'でんきをけす / でんきがきえる',
                english: 'to turn off the light / the light goes off',
                breakdown: '消す(trans) / 消える(intrans)',
              },
              {
                japanese: '物を落とす / 物が落ちる',
                reading: 'ものをおとす / ものがおちる',
                english: 'to drop something / something falls',
                breakdown: '落とす(trans) / 落ちる(intrans)',
              },
              {
                japanese: '時計を壊す / 時計が壊れる',
                reading: 'とけいをこわす / とけいがこわれる',
                english: 'to break the watch / the watch breaks',
                breakdown: '壊す(trans) / 壊れる(intrans)',
              },
            ],
          },
          {
            id: 'l16-g05',
            title: '～ておく Review (Preparation and Leaving)',
            pattern: 'Verb-て + おく',
            explanation:
              '～ておく means doing something in advance for preparation OR leaving something in a certain state. In the first meaning, it implies "do it now because you\'ll need it later." In the second, it means "leave as is" (sometimes intentionally not changing something).',
            examples: [
              {
                japanese: 'ホテルを予約しておきます。',
                reading: 'ホテルをよやくしておきます。',
                english: "I'll book the hotel in advance.",
                breakdown: '予約して + おきます (preparation)',
              },
              {
                japanese: '窓を開けておいてください。',
                reading: 'まどをあけておいてください。',
                english: 'Please leave the window open.',
                breakdown: '開けて + おいて (leave in state)',
              },
              {
                japanese: 'そのままにしておこう。',
                reading: 'そのままにしておこう。',
                english: "Let's leave it as it is.",
                breakdown: 'そのままにして + おこう (leave unchanged)',
              },
              {
                japanese: '聞いておけばよかった。',
                reading: 'きいておけばよかった。',
                english: 'I should have asked (beforehand).',
                breakdown: '聞いて + おけば + よかった (regret not preparing)',
              },
            ],
          },
          {
            id: 'l16-g06',
            title: '～ば Conditional (Brief Introduction)',
            pattern: 'Verb ~えば / Adj ~ければ',
            explanation:
              'The ば conditional is another way to say "if." For verbs, change the final u to e and add ば: 書く→書けば. For い-adjectives, change い to ければ: 高い→高ければ. Often used with いい: ～ばいい (it would be good if ~).',
            examples: [
              {
                japanese: 'ここに書けばいいですか。',
                reading: 'ここにかけばいいですか。',
                english: 'Should I write here?',
                breakdown: '書く→書けば + いいですか',
              },
              {
                japanese: '安ければ買います。',
                reading: 'やすければかいます。',
                english: "If it's cheap, I'll buy it.",
                breakdown: '安い→安ければ',
              },
              {
                japanese: '聞けば分かる。',
                reading: 'きけばわかる。',
                english: "If you ask, you'll understand.",
                breakdown: '聞く→聞けば',
              },
            ],
          },
        ],
      },
    },
    {
      id: 'l16-culture',
      type: 'culture',
      title: 'Culture Note',
      titleJapanese: 'ぶんかノート',
      content: {
        culturalNote: {
          id: 'l16-c01',
          title: 'Lost and Found in Japan',
          content:
            'Japan is famous for its high rate of returned lost items. If you lose something, check the nearest train station\'s lost and found (忘れ物センター) or police box (交番). Items are kept for varying periods before being transferred to larger lost property centers. The honesty of Japanese society means wallets are often returned with cash intact. When claiming an item, you\'ll need to describe it in detail and provide identification. It\'s customary to say "お手数をおかけしました" (Sorry for the trouble) when staff help you. The Japanese attention to detail means items are carefully labeled and catalogued, making retrieval efficient.',
          relatedLesson: 'genki2-lesson16',
        },
      },
    },
  ],
  audioTracks: generateLessonAudioTracks('genki2', 16, 16),
};
