import { GenkiLesson } from '@/types/genki';
import { generateLessonAudioTracks } from '../audio/audioManifest';

export const lesson17: GenkiLesson = {
  id: 'genki2-lesson17',
  book: 'genki2',
  lessonNumber: 17,
  title: 'Grumble and Complaint',
  titleJapanese: 'ぐちとふまん',
  description:
    'Learn to express hearsay information, report what others said, and use various conditional forms to discuss hypothetical situations.',
  objectives: [
    'Report information heard from others using ～そうです (hearsay)',
    'Use the casual quotation marker ～って',
    'Express conditions with ～たら, ～ば, and ～なら',
    'Distinguish between different conditional forms',
    'Discuss complaints and problems appropriately',
  ],
  estimatedMinutes: 90,
  sections: [
    {
      id: 'l17-dialogue',
      type: 'dialogue',
      title: 'Dialogue',
      titleJapanese: 'かいわ',
      content: {
        dialogue: {
          id: 'l17-d01',
          title: 'Roommate Problems',
          titleJapanese: 'ルームメイトのもんだい',
          context: 'Mary is talking to her friend about problems with her roommate.',
          characters: ['Friend', 'Mary'],
          lines: [
            {
              speaker: 'Friend',
              japanese: 'メアリーさん、どうしたの？つかれてるみたいだけど。',
              reading: 'めありーさん、どうしたの？つかれてるみたいだけど。',
              english: "Mary, what's wrong? You look tired.",
            },
            {
              speaker: 'Mary',
              japanese: 'うん、ルームメイトがうるさくて、ぜんぜんねむれないの。',
              reading: 'うん、るーむめいとがうるさくて、ぜんぜんねむれないの。',
              english: "Yeah, my roommate is noisy and I can't sleep at all.",
            },
            {
              speaker: 'Friend',
              japanese: 'そうなんだ。どんなふうにうるさいの？',
              reading: 'そうなんだ。どんなふうにうるさいの？',
              english: 'I see. In what way is she noisy?',
            },
            {
              speaker: 'Mary',
              japanese: 'まいばん友だちをよんで、おそくまでパーティーするんだって。',
              reading: 'まいばんともだちをよんで、おそくまでぱーてぃーするんだって。',
              english: 'She invites friends over every night and parties until late, apparently.',
            },
            {
              speaker: 'Friend',
              japanese: 'それは大へんだね。ちょくせつ話したら？',
              reading: 'それはたいへんだね。ちょくせつはなしたら？',
              english: "That's tough. Why don't you talk to her directly?",
            },
            {
              speaker: 'Mary',
              japanese: '話したんだけど、ぜんぜん聞いてくれないの。',
              reading: 'はなしたんだけど、ぜんぜんきいてくれないの。',
              english: "I did talk to her, but she doesn't listen at all.",
            },
            {
              speaker: 'Friend',
              japanese: 'じゃあ、かんりにんに言えば？',
              reading: 'じゃあ、かんりにんにいえば？',
              english: 'Then, how about telling the building manager?',
            },
            {
              speaker: 'Mary',
              japanese: 'そうだね。それがいいかもしれない。',
              reading: 'そうだね。それがいいかもしれない。',
              english: "You're right. That might be good.",
            },
          ],
        },
      },
    },
    {
      id: 'l17-vocab',
      type: 'vocabulary',
      title: 'Vocabulary',
      titleJapanese: 'たんご',
      content: {
        vocabulary: [
          { id: 'l17-v01', japanese: 'ぐち', reading: 'ぐち', romaji: 'guchi', english: 'complaint; grumble', partOfSpeech: 'noun' },
          { id: 'l17-v02', japanese: 'ふまん', reading: 'ふまん', romaji: 'fuman', english: 'dissatisfaction', partOfSpeech: 'noun' },
          { id: 'l17-v03', japanese: 'ルームメイト', reading: 'るーむめいと', romaji: 'ruumeito', english: 'roommate', partOfSpeech: 'noun' },
          { id: 'l17-v04', japanese: 'かんりにん', reading: 'かんりにん', romaji: 'kanrinin', english: 'building manager', partOfSpeech: 'noun' },
          { id: 'l17-v05', japanese: 'きそく', reading: 'きそく', romaji: 'kisoku', english: 'rule; regulation', partOfSpeech: 'noun' },
          { id: 'l17-v06', japanese: 'となり', reading: 'となり', romaji: 'tonari', english: 'next door; neighbor', partOfSpeech: 'noun' },
          { id: 'l17-v07', japanese: 'うわさ', reading: 'うわさ', romaji: 'uwasa', english: 'rumor; gossip', partOfSpeech: 'noun' },
          { id: 'l17-v08', japanese: 'じじょう', reading: 'じじょう', romaji: 'jijou', english: 'circumstances', partOfSpeech: 'noun' },
          { id: 'l17-v09', japanese: 'めんどう', reading: 'めんどう', romaji: 'mendou', english: 'trouble; hassle', partOfSpeech: 'na-adjective' },
          { id: 'l17-v10', japanese: 'よてい', reading: 'よてい', romaji: 'yotei', english: 'plan; schedule', partOfSpeech: 'noun' },
          { id: 'l17-v11', japanese: 'ニュース', reading: 'にゅーす', romaji: 'nyuusu', english: 'news', partOfSpeech: 'noun' },
          { id: 'l17-v12', japanese: 'てんきよほう', reading: 'てんきよほう', romaji: 'tenkiyohou', english: 'weather forecast', partOfSpeech: 'noun' },
          { id: 'l17-v13', japanese: 'なおす', reading: 'なおす', romaji: 'naosu', english: 'to fix; to repair', partOfSpeech: 'verb', category: 'Verbs (う-verbs)' },
          { id: 'l17-v14', japanese: 'まもる', reading: 'まもる', romaji: 'mamoru', english: 'to protect; to obey', partOfSpeech: 'verb', category: 'Verbs (う-verbs)' },
          { id: 'l17-v15', japanese: 'こわす', reading: 'こわす', romaji: 'kowasu', english: 'to break; to destroy', partOfSpeech: 'verb', category: 'Verbs (う-verbs)' },
          { id: 'l17-v16', japanese: 'よごす', reading: 'よごす', romaji: 'yogosu', english: 'to make dirty', partOfSpeech: 'verb', category: 'Verbs (う-verbs)' },
          { id: 'l17-v17', japanese: 'さわぐ', reading: 'さわぐ', romaji: 'sawagu', english: 'to make noise', partOfSpeech: 'verb', category: 'Verbs (う-verbs)' },
          { id: 'l17-v18', japanese: 'たのむ', reading: 'たのむ', romaji: 'tanomu', english: 'to ask; to request', partOfSpeech: 'verb', category: 'Verbs (う-verbs)' },
          { id: 'l17-v19', japanese: 'ことわる', reading: 'ことわる', romaji: 'kotowaru', english: 'to refuse; to decline', partOfSpeech: 'verb', category: 'Verbs (う-verbs)' },
          { id: 'l17-v20', japanese: 'がまんする', reading: 'がまんする', romaji: 'gaman suru', english: 'to endure', partOfSpeech: 'verb', category: 'Verbs (する)' },
          { id: 'l17-v21', japanese: 'そうだんする', reading: 'そうだんする', romaji: 'soudan suru', english: 'to consult', partOfSpeech: 'verb', category: 'Verbs (する)' },
          { id: 'l17-v22', japanese: 'うるさい', reading: 'うるさい', romaji: 'urusai', english: 'noisy; annoying', partOfSpeech: 'i-adjective' },
          { id: 'l17-v23', japanese: 'きびしい', reading: 'きびしい', romaji: 'kibishii', english: 'strict; harsh', partOfSpeech: 'i-adjective' },
          { id: 'l17-v24', japanese: 'ちょくせつ', reading: 'ちょくせつ', romaji: 'chokusetsu', english: 'directly', partOfSpeech: 'adverb' },
          { id: 'l17-v25', japanese: 'どうやら', reading: 'どうやら', romaji: 'douyara', english: 'apparently', partOfSpeech: 'adverb' },
          { id: 'l17-v26', japanese: 'によると', reading: 'によると', romaji: 'ni yoru to', english: 'according to', partOfSpeech: 'expression' },
        ],
      },
    },
    {
      id: 'l17-grammar',
      type: 'grammar',
      title: 'Grammar',
      titleJapanese: 'ぶんぽう',
      content: {
        grammar: [
          {
            id: 'l17-g01',
            title: 'Hearsay そうです',
            pattern: 'Plain form + そうです',
            explanation: 'This ～そうです (hearsay) expresses information heard from others. It attaches to the plain form of verbs, adjectives, and nouns.',
            culturalNote: 'Japanese speakers often cite sources when sharing information to avoid taking personal responsibility for accuracy.',
            examples: [
              { japanese: 'あしたは雨がふるそうです。', reading: 'あしたはあめがふるそうです。', english: 'I heard it will rain tomorrow.' },
              { japanese: '田中さんはけっこんしたそうです。', reading: 'たなかさんはけっこんしたそうです。', english: 'I heard Tanaka-san got married.' },
            ],
          },
          {
            id: 'l17-g02',
            title: 'Casual Quotation って',
            pattern: 'Plain form + って',
            explanation: '～って is the casual version of ～と言っていました or ～そうです. Very common in everyday conversation.',
            culturalNote: 'Using って shows you are reporting something without verifying it personally.',
            examples: [
              { japanese: 'あしたテストがあるって。', reading: 'あしたてすとがあるって。', english: "There's a test tomorrow, I heard." },
              { japanese: 'かれ、もうかえったって。', reading: 'かれ、もうかえったって。', english: 'He already went home, they say.' },
            ],
          },
          {
            id: 'l17-g03',
            title: 'たら Conditional',
            pattern: 'Past tense plain form + ら',
            explanation: '～たら is the most versatile conditional in Japanese. It can express hypothetical conditions, temporal conditions, and counterfactuals.',
            culturalNote: '～たらどうですか is a common way to make suggestions.',
            examples: [
              { japanese: '雨がふったら、うちにいます。', reading: 'あめがふったら、うちにいます。', english: "If it rains, I'll stay home." },
              { japanese: 'やすかったら、買います。', reading: 'やすかったら、かいます。', english: "If it's cheap, I'll buy it." },
            ],
          },
          {
            id: 'l17-g04',
            title: 'ば Conditional',
            pattern: 'Verb: -u → -eba; い-adj: い → ければ',
            explanation: '～ば is more hypothetical and focuses on conditions. Common patterns: ～ば～ほど (the more...the more) and ～ばいい (it would be good if...).',
            culturalNote: 'The phrase 言えば is often used to soften a statement.',
            examples: [
              { japanese: 'もっとべんきょうすれば、うかります。', reading: 'もっとべんきょうすれば、うかります。', english: "If you study more, you'll pass." },
              { japanese: 'やすければ、買いたいです。', reading: 'やすければ、かいたいです。', english: "If it's cheap, I want to buy it." },
            ],
          },
          {
            id: 'l17-g05',
            title: 'なら Conditional',
            pattern: 'Plain form + なら; Noun + なら',
            explanation: '～なら is used when you pick up on something the listener said or implied and respond to that topic.',
            culturalNote: 'なら is often used in customer service showing attentive listening.',
            examples: [
              { japanese: '日本にいくなら、京都にいってください。', reading: 'にほんにいくなら、きょうとにいってください。', english: 'If you are going to Japan, please go to Kyoto.' },
              { japanese: 'さしみなら、このみせがいちばんです。', reading: 'さしみなら、このみせがいちばんです。', english: "If it's sashimi you want, this restaurant is the best." },
            ],
          },
          {
            id: 'l17-g06',
            title: 'ても/でも Concessive',
            pattern: 'て-form + も; な-adj/Noun + でも',
            explanation: '～ても expresses that the result will be the same regardless of the condition. どんなに～ても means "no matter how much ~".',
            culturalNote: 'Japanese people often use ～ても to show determination despite obstacles.',
            examples: [
              { japanese: '雨がふっても、いきます。', reading: 'あめがふっても、いきます。', english: 'Even if it rains, I will go.' },
              { japanese: 'たかくても、買いたいです。', reading: 'たかくても、かいたいです。', english: 'Even if it is expensive, I want to buy it.' },
            ],
          },
        ],
      },
    },
    {
      id: 'l17-culture',
      type: 'culture',
      title: 'Culture Note',
      titleJapanese: 'ぶんかノート',
      content: {
        culturalNote: {
          id: 'l17-c01',
          title: 'Indirect Communication in Japan',
          content: 'Japanese communication style tends to be indirect, especially when expressing complaints or negative opinions. The concept of がまん (endurance, patience) is deeply valued. When someone does express a complaint, it is usually taken seriously because it means the situation has become truly unbearable.',
          relatedLesson: 'genki2-lesson17',
        },
      },
    },
  ],
  audioTracks: generateLessonAudioTracks('genki2', 17, 18),
};
