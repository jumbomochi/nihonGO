import { GenkiLesson } from '@/types/genki';
import { generateLessonAudioTracks } from '../audio/audioManifest';

export const lesson13: GenkiLesson = {
  id: 'genki2-lesson13',
  book: 'genki2',
  lessonNumber: 13,
  title: 'Giving and Receiving',
  titleJapanese: 'あげもの',
  description:
    'Learn to express giving and receiving, ask for and offer favors, and use potential form.',
  objectives: [
    'Use あげる, もらう, くれる for giving and receiving',
    'Express giving and receiving favors with て-form',
    'Form and use the potential form of verbs',
    'Express desire with ほしい and ほしがっている',
    'Use different perspectives for giving and receiving',
  ],
  estimatedMinutes: 100,
  sections: [
    {
      id: 'l13-dialogue',
      type: 'dialogue',
      title: 'Dialogue',
      titleJapanese: 'かいわ',
      content: {
        dialogue: {
          id: 'l13-d01',
          title: 'A Gift',
          titleJapanese: 'プレゼント',
          context:
            'Mary received a gift from her host family and is talking about it with Takeshi.',
          characters: ['Mary', 'Takeshi'],
          lines: [
            {
              speaker: 'Takeshi',
              japanese: 'わあ、きれいなスカーフだね。誰にもらったの？',
              reading: 'わあ、きれいなスカーフだね。だれにもらったの？',
              english: "Wow, that's a beautiful scarf. Who did you get it from?",
            },
            {
              speaker: 'Mary',
              japanese: 'ホストファミリーのお母さんがくれたの。誕生日プレゼントに。',
              reading: 'ホストファミリーのおかあさんがくれたの。たんじょうびプレゼントに。',
              english: "My host family's mother gave it to me. As a birthday present.",
            },
            {
              speaker: 'Takeshi',
              japanese: 'よかったね。メアリーさんは何かあげた？',
              reading: 'よかったね。メアリーさんはなにかあげた？',
              english: 'How nice. Did you give her something?',
            },
            {
              speaker: 'Mary',
              japanese: 'うん、アメリカのチョコレートをあげた。喜んでもらえて嬉しかった。',
              reading: 'うん、アメリカのチョコレートをあげた。よろこんでもらえてうれしかった。',
              english: "Yes, I gave her American chocolate. I was happy she was pleased.",
            },
            {
              speaker: 'Takeshi',
              japanese: 'いいな。僕も何かもらいたいな。',
              reading: 'いいな。ぼくもなにかもらいたいな。',
              english: "Nice. I want to receive something too.",
            },
            {
              speaker: 'Mary',
              japanese: 'じゃあ、今度お菓子を作ってあげるよ。',
              reading: 'じゃあ、こんどおかしをつくってあげるよ。',
              english: "Then I'll make you some sweets next time.",
            },
            {
              speaker: 'Takeshi',
              japanese: '本当？メアリーさん、お菓子が作れるの？',
              reading: 'ほんとう？メアリーさん、おかしがつくれるの？',
              english: 'Really? Mary, you can make sweets?',
            },
            {
              speaker: 'Mary',
              japanese: 'うん、アメリカでよく作っていたから。',
              reading: 'うん、アメリカでよくつくっていたから。',
              english: 'Yeah, I used to make them often in America.',
            },
            {
              speaker: 'Takeshi',
              japanese: '楽しみ！日本語も教えてもらえる？',
              reading: 'たのしみ！にほんごもおしえてもらえる？',
              english: "I'm looking forward to it! Can I also get you to teach me Japanese?",
            },
            {
              speaker: 'Mary',
              japanese: 'もちろん！私も日本語を教えてほしいけど。',
              reading: 'もちろん！わたしもにほんごをおしえてほしいけど。',
              english: "Of course! Though I also want you to teach me Japanese.",
            },
          ],
          audioFile: 'genki2/lesson13/dialogue.mp3',
        },
      },
    },
    {
      id: 'l13-vocabulary',
      type: 'vocabulary',
      title: 'Vocabulary',
      titleJapanese: 'たんご',
      content: {
        vocabulary: [
          // Giving and receiving verbs
          {
            id: 'l13-v01',
            japanese: 'あげる',
            reading: 'あげる',
            romaji: 'ageru',
            english: 'to give (from me/us)',
            partOfSpeech: 'verb',
            category: 'Giving/Receiving',
            notes: 'Ru-verb; giver is speaker or speaker\'s group',
          },
          {
            id: 'l13-v02',
            japanese: 'くれる',
            reading: 'くれる',
            romaji: 'kureru',
            english: 'to give (to me/us)',
            partOfSpeech: 'verb',
            category: 'Giving/Receiving',
            notes: 'Ru-verb; receiver is speaker or speaker\'s group',
          },
          {
            id: 'l13-v03',
            japanese: 'もらう',
            reading: 'もらう',
            romaji: 'morau',
            english: 'to receive',
            partOfSpeech: 'verb',
            category: 'Giving/Receiving',
            notes: 'U-verb',
          },
          {
            id: 'l13-v04',
            japanese: 'さしあげる',
            reading: 'さしあげる',
            romaji: 'sashiageru',
            english: 'to give (humble)',
            partOfSpeech: 'verb',
            category: 'Giving/Receiving',
            notes: 'Humble form of あげる',
          },
          {
            id: 'l13-v05',
            japanese: 'くださる',
            reading: 'くださる',
            romaji: 'kudasaru',
            english: 'to give (honorific)',
            partOfSpeech: 'verb',
            category: 'Giving/Receiving',
            notes: 'Honorific form of くれる',
          },
          {
            id: 'l13-v06',
            japanese: 'いただく',
            reading: 'いただく',
            romaji: 'itadaku',
            english: 'to receive (humble)',
            partOfSpeech: 'verb',
            category: 'Giving/Receiving',
            notes: 'Humble form of もらう',
          },
          // Gift-related
          {
            id: 'l13-v07',
            japanese: 'プレゼント',
            reading: 'プレゼント',
            romaji: 'purezento',
            english: 'present; gift',
            partOfSpeech: 'noun',
            category: 'Gifts',
          },
          {
            id: 'l13-v08',
            japanese: 'お土産',
            reading: 'おみやげ',
            romaji: 'omiyage',
            english: 'souvenir',
            partOfSpeech: 'noun',
            category: 'Gifts',
          },
          {
            id: 'l13-v09',
            japanese: '花',
            reading: 'はな',
            romaji: 'hana',
            english: 'flower',
            partOfSpeech: 'noun',
            category: 'Gifts',
          },
          {
            id: 'l13-v10',
            japanese: 'お菓子',
            reading: 'おかし',
            romaji: 'okashi',
            english: 'sweets; snacks',
            partOfSpeech: 'noun',
            category: 'Food',
          },
          // People
          {
            id: 'l13-v11',
            japanese: 'ホストファミリー',
            reading: 'ホストファミリー',
            romaji: 'hosuto famirii',
            english: 'host family',
            partOfSpeech: 'noun',
            category: 'People',
          },
          {
            id: 'l13-v12',
            japanese: '彼氏',
            reading: 'かれし',
            romaji: 'kareshi',
            english: 'boyfriend',
            partOfSpeech: 'noun',
            category: 'People',
          },
          {
            id: 'l13-v13',
            japanese: '彼女',
            reading: 'かのじょ',
            romaji: 'kanojo',
            english: 'girlfriend; she',
            partOfSpeech: 'noun',
            category: 'People',
          },
          // Potential verbs
          {
            id: 'l13-v14',
            japanese: '～れる/られる',
            reading: '～れる/られる',
            romaji: '~reru/rareru',
            english: 'potential form (can do)',
            partOfSpeech: 'suffix',
            category: 'Grammar',
          },
          {
            id: 'l13-v15',
            japanese: '話せる',
            reading: 'はなせる',
            romaji: 'hanaseru',
            english: 'can speak',
            partOfSpeech: 'verb',
            category: 'Potential',
          },
          {
            id: 'l13-v16',
            japanese: '食べられる',
            reading: 'たべられる',
            romaji: 'taberareru',
            english: 'can eat',
            partOfSpeech: 'verb',
            category: 'Potential',
          },
          {
            id: 'l13-v17',
            japanese: '来られる',
            reading: 'こられる',
            romaji: 'korareru',
            english: 'can come',
            partOfSpeech: 'verb',
            category: 'Potential',
          },
          {
            id: 'l13-v18',
            japanese: 'できる',
            reading: 'できる',
            romaji: 'dekiru',
            english: 'can do; to be able to',
            partOfSpeech: 'verb',
            category: 'Potential',
            notes: 'Potential of する',
          },
          // Other verbs
          {
            id: 'l13-v19',
            japanese: '喜ぶ',
            reading: 'よろこぶ',
            romaji: 'yorokobu',
            english: 'to be pleased; to rejoice',
            partOfSpeech: 'verb',
            category: 'Verbs',
            notes: 'U-verb',
          },
          {
            id: 'l13-v20',
            japanese: '届ける',
            reading: 'とどける',
            romaji: 'todokeru',
            english: 'to deliver',
            partOfSpeech: 'verb',
            category: 'Verbs',
            notes: 'Ru-verb',
          },
          {
            id: 'l13-v21',
            japanese: '貸す',
            reading: 'かす',
            romaji: 'kasu',
            english: 'to lend',
            partOfSpeech: 'verb',
            category: 'Verbs',
            notes: 'U-verb',
          },
          {
            id: 'l13-v22',
            japanese: '借りる',
            reading: 'かりる',
            romaji: 'kariru',
            english: 'to borrow',
            partOfSpeech: 'verb',
            category: 'Verbs',
            notes: 'Ru-verb',
          },
          {
            id: 'l13-v23',
            japanese: '案内する',
            reading: 'あんないする',
            romaji: 'annai suru',
            english: 'to guide; to show around',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l13-v24',
            japanese: '招待する',
            reading: 'しょうたいする',
            romaji: 'shoutai suru',
            english: 'to invite',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          // Expressions
          {
            id: 'l13-v25',
            japanese: '～てあげる',
            reading: '～てあげる',
            romaji: '~te ageru',
            english: 'to do ~ for someone',
            partOfSpeech: 'expression',
            category: 'Grammar',
          },
          {
            id: 'l13-v26',
            japanese: '～てくれる',
            reading: '～てくれる',
            romaji: '~te kureru',
            english: 'someone does ~ for me',
            partOfSpeech: 'expression',
            category: 'Grammar',
          },
          {
            id: 'l13-v27',
            japanese: '～てもらう',
            reading: '～てもらう',
            romaji: '~te morau',
            english: 'to have someone do ~',
            partOfSpeech: 'expression',
            category: 'Grammar',
          },
          {
            id: 'l13-v28',
            japanese: 'ほしい',
            reading: 'ほしい',
            romaji: 'hoshii',
            english: 'to want (thing)',
            partOfSpeech: 'i-adjective',
            category: 'Desires',
          },
          {
            id: 'l13-v29',
            japanese: '～てほしい',
            reading: '～てほしい',
            romaji: '~te hoshii',
            english: 'want someone to do ~',
            partOfSpeech: 'expression',
            category: 'Grammar',
          },
          // Other vocabulary
          {
            id: 'l13-v30',
            japanese: '誕生日',
            reading: 'たんじょうび',
            romaji: 'tanjoubi',
            english: 'birthday',
            partOfSpeech: 'noun',
            category: 'Events',
          },
          {
            id: 'l13-v31',
            japanese: '記念日',
            reading: 'きねんび',
            romaji: 'kinenbi',
            english: 'anniversary',
            partOfSpeech: 'noun',
            category: 'Events',
          },
          {
            id: 'l13-v32',
            japanese: 'スカーフ',
            reading: 'スカーフ',
            romaji: 'sukaafu',
            english: 'scarf',
            partOfSpeech: 'noun',
            category: 'Clothing',
          },
          {
            id: 'l13-v33',
            japanese: 'アクセサリー',
            reading: 'アクセサリー',
            romaji: 'akusesarii',
            english: 'accessory; jewelry',
            partOfSpeech: 'noun',
            category: 'Clothing',
          },
          {
            id: 'l13-v34',
            japanese: '財布',
            reading: 'さいふ',
            romaji: 'saifu',
            english: 'wallet',
            partOfSpeech: 'noun',
            category: 'Things',
          },
          {
            id: 'l13-v35',
            japanese: '時計',
            reading: 'とけい',
            romaji: 'tokei',
            english: 'watch; clock',
            partOfSpeech: 'noun',
            category: 'Things',
          },
          // Adverbs and expressions
          {
            id: 'l13-v36',
            japanese: '喜んで',
            reading: 'よろこんで',
            romaji: 'yorokonde',
            english: 'gladly; with pleasure',
            partOfSpeech: 'expression',
            category: 'Expressions',
          },
          {
            id: 'l13-v37',
            japanese: 'もちろん',
            reading: 'もちろん',
            romaji: 'mochiron',
            english: 'of course',
            partOfSpeech: 'adverb',
            category: 'Expressions',
          },
          {
            id: 'l13-v38',
            japanese: '～に',
            reading: '～に',
            romaji: '~ni',
            english: 'to (recipient); from (giver with もらう)',
            partOfSpeech: 'particle',
            category: 'Grammar',
          },
          {
            id: 'l13-v39',
            japanese: 'わあ',
            reading: 'わあ',
            romaji: 'waa',
            english: 'wow',
            partOfSpeech: 'expression',
            category: 'Expressions',
          },
          {
            id: 'l13-v40',
            japanese: '何か',
            reading: 'なにか',
            romaji: 'nanika',
            english: 'something',
            partOfSpeech: 'expression',
            category: 'Expressions',
          },
        ],
      },
    },
    {
      id: 'l13-grammar',
      type: 'grammar',
      title: 'Grammar',
      titleJapanese: 'ぶんぽう',
      content: {
        grammar: [
          {
            id: 'l13-g01',
            title: 'あげる, くれる, もらう (Giving and Receiving)',
            pattern: 'Giver は/が Recipient に [Object] を あげる/くれる | Recipient は/が Giver に [Object] を もらう',
            explanation:
              'Japanese has three main verbs for giving and receiving: あげる (I/we give to others), くれる (others give to me/us), and もらう (receive). The choice depends on the direction of the gift and the speaker\'s perspective. くれる expresses gratitude as it means someone gave to "my side."',
            examples: [
              {
                japanese: '私は友達に本をあげました。',
                reading: 'わたしはともだちにほんをあげました。',
                english: 'I gave a book to my friend.',
                breakdown: '私は(I) + 友達に(to friend) + 本を + あげました',
              },
              {
                japanese: '友達が私にプレゼントをくれました。',
                reading: 'ともだちがわたしにプレゼントをくれました。',
                english: 'My friend gave me a present.',
                breakdown: '友達が(friend) + 私に(to me) + プレゼントを + くれました',
              },
              {
                japanese: '私は母に花をもらいました。',
                reading: 'わたしはははにはなをもらいました。',
                english: 'I received flowers from my mother.',
                breakdown: '私は + 母に(from mother) + 花を + もらいました',
              },
              {
                japanese: '田中さんは山田さんにお土産をあげた。',
                reading: 'たなかさんはやまださんにおみやげをあげた。',
                english: 'Tanaka gave Yamada a souvenir.',
                breakdown: 'Third person to third person: use あげる',
              },
            ],
            culturalNote:
              'Using くれる shows gratitude because you acknowledge someone did something beneficial for you. Choosing the wrong verb can sound ungrateful or strange.',
          },
          {
            id: 'l13-g02',
            title: '～てあげる, ～てくれる, ～てもらう (Giving and Receiving Favors)',
            pattern: 'Verb-て + あげる/くれる/もらう',
            explanation:
              'Combine て-form with giving/receiving verbs to express doing favors. ～てあげる means "to do something for someone," ～てくれる means "someone does something for me (gratefully)," and ～てもらう means "to have someone do something for me" (I\'m the beneficiary).',
            examples: [
              {
                japanese: '友達に日本語を教えてあげました。',
                reading: 'ともだちににほんごをおしえてあげました。',
                english: 'I taught Japanese to my friend (as a favor).',
                breakdown: '教えて + あげました = did the favor of teaching',
              },
              {
                japanese: '母が料理を作ってくれました。',
                reading: 'ははがりょうりをつくってくれました。',
                english: 'My mother cooked for me.',
                breakdown: '作って + くれました = did for me (grateful)',
              },
              {
                japanese: '先生に推薦状を書いてもらいました。',
                reading: 'せんせいにすいせんじょうをかいてもらいました。',
                english: 'I had my teacher write a recommendation letter for me.',
                breakdown: '書いて + もらいました = had it done for me',
              },
              {
                japanese: '写真を撮ってくれませんか。',
                reading: 'しゃしんをとってくれませんか。',
                english: 'Would you take a photo for me?',
                breakdown: '撮って + くれませんか = won\'t you do for me?',
              },
            ],
          },
          {
            id: 'l13-g03',
            title: 'Potential Form (Can do)',
            pattern: 'Ru-verbs: ~る→~られる | U-verbs: ~u→~eru | する→できる | くる→こられる',
            explanation:
              'The potential form expresses ability ("can do"). For ru-verbs, replace る with られる. For u-verbs, change the final u sound to e and add る. する becomes できる, and くる becomes こられる. The object can be marked with が instead of を with potential verbs.',
            examples: [
              {
                japanese: '日本語が話せます。',
                reading: 'にほんごがはなせます。',
                english: 'I can speak Japanese.',
                breakdown: '話す→話せる (u-verb: す→せる)',
              },
              {
                japanese: '刺身が食べられますか。',
                reading: 'さしみがたべられますか。',
                english: 'Can you eat sashimi?',
                breakdown: '食べる→食べられる (ru-verb: る→られる)',
              },
              {
                japanese: '明日、来られますか。',
                reading: 'あした、こられますか。',
                english: 'Can you come tomorrow?',
                breakdown: 'くる→こられる (irregular)',
              },
              {
                japanese: '漢字がまだ書けません。',
                reading: 'かんじがまだかけません。',
                english: 'I still can\'t write kanji.',
                breakdown: '書く→書ける (u-verb: く→ける)',
              },
            ],
            culturalNote:
              'In casual speech, the potential of ru-verbs is often shortened: 食べられる→食べれる. This is called "ra-nuki" (ら抜き) and is common but considered informal.',
          },
          {
            id: 'l13-g04',
            title: '～てほしい (Want someone to do)',
            pattern: 'Person に + Verb-て + ほしい',
            explanation:
              '～てほしい expresses wanting someone else to do something. The person you want to do the action is marked with に. For politeness, often add と思っている or ～んですが. To say you don\'t want someone to do something, use ～てほしくない or ～ないでほしい.',
            examples: [
              {
                japanese: '彼に電話してほしいです。',
                reading: 'かれにでんわしてほしいです。',
                english: 'I want him to call me.',
                breakdown: '彼に + 電話して + ほしいです',
              },
              {
                japanese: '静かにしてほしいんですが。',
                reading: 'しずかにしてほしいんですが。',
                english: 'I\'d like you to be quiet...',
                breakdown: '静かにして + ほしい + んですが (softened)',
              },
              {
                japanese: 'そんなことを言わないでほしい。',
                reading: 'そんなことをいわないでほしい。',
                english: 'I don\'t want you to say such things.',
                breakdown: '言わないで + ほしい (negative request)',
              },
              {
                japanese: '手伝ってほしいことがあるんですが。',
                reading: 'てつだってほしいことがあるんですが。',
                english: "There's something I want you to help me with...",
                breakdown: '手伝ってほしい + こと + があるんですが',
              },
            ],
          },
          {
            id: 'l13-g05',
            title: 'Honorific あげる/くれる/もらう',
            pattern: 'さしあげる (humble give) / くださる (honorific give) / いただく (humble receive)',
            explanation:
              'Formal versions exist for giving/receiving: さしあげる (humble, when you give to superiors), くださる (honorific, when superiors give to you), and いただく (humble, when you receive from superiors). These are used with people of higher status.',
            examples: [
              {
                japanese: '先生にお花をさしあげました。',
                reading: 'せんせいにおはなをさしあげました。',
                english: 'I gave flowers to my teacher (humble).',
                breakdown: 'さしあげる = humble form of あげる',
              },
              {
                japanese: '社長がお土産をくださいました。',
                reading: 'しゃちょうがおみやげをくださいました。',
                english: 'The company president gave me a souvenir.',
                breakdown: 'くださる = honorific form of くれる',
              },
              {
                japanese: '先生に本をいただきました。',
                reading: 'せんせいにほんをいただきました。',
                english: 'I received a book from my teacher (humble).',
                breakdown: 'いただく = humble form of もらう',
              },
              {
                japanese: '教えていただけませんか。',
                reading: 'おしえていただけませんか。',
                english: 'Could you teach me? (very polite request)',
                breakdown: '教えて + いただけませんか = very polite request',
              },
            ],
          },
          {
            id: 'l13-g06',
            title: 'Direction of Giving Perspective',
            pattern: 'In/Out perspective determines verb choice',
            explanation:
              'Think of yourself as the center: movements toward you use くれる/もらう, movements away use あげる. When neither giver nor receiver is you, use あげる. When asking favors, くれる sounds friendlier while もらう sounds like you\'re imposing.',
            examples: [
              {
                japanese: '弟が私の宿題を手伝ってくれた。',
                reading: 'おとうとがわたしのしゅくだいをてつだってくれた。',
                english: 'My brother helped me with my homework (grateful).',
                breakdown: 'Toward me → くれた',
              },
              {
                japanese: '私が弟の宿題を手伝ってあげた。',
                reading: 'わたしがおとうとのしゅくだいをてつだってあげた。',
                english: 'I helped my brother with his homework.',
                breakdown: 'Away from me → あげた',
              },
              {
                japanese: '田中さんが山田さんを駅まで送ってあげた。',
                reading: 'たなかさんがやまださんをえきまでおくってあげた。',
                english: 'Tanaka took Yamada to the station.',
                breakdown: 'Third person to third person → あげた',
              },
              {
                japanese: '手伝ってもらえますか。/ 手伝ってくれますか。',
                reading: 'てつだってもらえますか。/ てつだってくれますか。',
                english: 'Could you help me? (two ways to ask)',
                breakdown: 'もらえますか (I receive) vs くれますか (you give)',
              },
            ],
            culturalNote:
              'Be careful with ～てあげる as it can sound condescending. "Let me do it for you" might feel patronizing. It\'s often better to use ～ましょうか instead.',
          },
        ],
      },
    },
    {
      id: 'l13-culture',
      type: 'culture',
      title: 'Culture Note',
      titleJapanese: 'ぶんかノート',
      content: {
        culturalNote: {
          id: 'l13-c01',
          title: 'Gift-Giving Culture in Japan',
          content:
            'Gift-giving (贈り物) is an important part of Japanese culture. There are specific occasions for gifts: お中元 (summer gifts) and お歳暮 (year-end gifts) are exchanged between business associates and those you\'re obligated to. お土産 (souvenirs) are expected when returning from trips—you bring them for coworkers, friends, and family. When visiting someone\'s home, bringing a small gift (手土産) like sweets is customary. Presentation matters: gifts are beautifully wrapped, and you shouldn\'t open gifts in front of the giver unless encouraged. It\'s polite to initially refuse a gift with expressions like "そんな、悪いですよ" (Oh, you shouldn\'t have) before accepting.',
          relatedLesson: 'genki2-lesson13',
        },
      },
    },
  ],
  audioTracks: generateLessonAudioTracks('genki2', 13, 18),
};
