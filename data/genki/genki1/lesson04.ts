import { GenkiLesson } from '@/types/genki';
import { generateLessonAudioTracks } from '../audio/audioManifest';

export const lesson04: GenkiLesson = {
  id: 'genki1-lesson04',
  book: 'genki1',
  lessonNumber: 4,
  title: 'The First Date',
  titleJapanese: 'はじめてのデート',
  description:
    'Learn to describe existence and locations, talk about past events, and express frequency.',
  objectives: [
    'Use ある and いる to express existence',
    'Describe locations using position words',
    'Form past tense of です and verbs',
    'Express frequency with adverbs',
    'Count items with various counters',
  ],
  estimatedMinutes: 90,
  sections: [
    {
      id: 'l04-dialogue',
      type: 'dialogue',
      title: 'Dialogue',
      titleJapanese: 'かいわ',
      content: {
        dialogue: {
          id: 'l04-d01',
          title: 'The First Date',
          titleJapanese: 'はじめてのデート',
          context:
            'Mary and Takeshi went on their first date. Mary is telling her friend about it.',
          characters: ['Mary', 'Sue'],
          lines: [
            {
              speaker: 'Sue',
              japanese: 'デートはどうでしたか。',
              reading: 'デートはどうでしたか。',
              english: 'How was the date?',
            },
            {
              speaker: 'Mary',
              japanese: 'とても楽しかったです。',
              reading: 'とてもたのしかったです。',
              english: 'It was very fun.',
            },
            {
              speaker: 'Sue',
              japanese: 'どこに行きましたか。',
              reading: 'どこにいきましたか。',
              english: 'Where did you go?',
            },
            {
              speaker: 'Mary',
              japanese: '映画を見て、レストランに行きました。',
              reading: 'えいがをみて、レストランにいきました。',
              english: 'We watched a movie and went to a restaurant.',
            },
            {
              speaker: 'Sue',
              japanese: 'レストランはどこにありましたか。',
              reading: 'レストランはどこにありましたか。',
              english: 'Where was the restaurant?',
            },
            {
              speaker: 'Mary',
              japanese: '駅の近くにありました。',
              reading: 'えきのちかくにありました。',
              english: 'It was near the station.',
            },
            {
              speaker: 'Sue',
              japanese: '何を食べましたか。',
              reading: 'なにをたべましたか。',
              english: 'What did you eat?',
            },
            {
              speaker: 'Mary',
              japanese: 'たけしさんはラーメンを食べました。私はカレーを食べました。',
              reading: 'たけしさんはラーメンをたべました。わたしはカレーをたべました。',
              english: 'Takeshi ate ramen. I ate curry.',
            },
            {
              speaker: 'Sue',
              japanese: 'いいですね。また会いますか。',
              reading: 'いいですね。またあいますか。',
              english: "That's nice. Will you meet again?",
            },
            {
              speaker: 'Mary',
              japanese: 'はい、来週の土曜日に会います。',
              reading: 'はい、らいしゅうのどようびにあいます。',
              english: "Yes, we'll meet next Saturday.",
            },
          ],
          audioFile: 'genki1/lesson04/dialogue.mp3',
        },
      },
    },
    {
      id: 'l04-vocabulary',
      type: 'vocabulary',
      title: 'Vocabulary',
      titleJapanese: 'たんご',
      content: {
        vocabulary: [
          // Existence and location words
          {
            id: 'l04-v01',
            japanese: 'ある',
            reading: 'ある',
            romaji: 'aru',
            english: 'there is (inanimate)',
            partOfSpeech: 'verb',
            category: 'Existence',
            notes: 'Used for non-living things and plants',
          },
          {
            id: 'l04-v02',
            japanese: 'いる',
            reading: 'いる',
            romaji: 'iru',
            english: 'there is (animate)',
            partOfSpeech: 'verb',
            category: 'Existence',
            notes: 'Used for people and animals',
          },
          {
            id: 'l04-v03',
            japanese: '上',
            reading: 'うえ',
            romaji: 'ue',
            english: 'on; above',
            partOfSpeech: 'noun',
            category: 'Position',
          },
          {
            id: 'l04-v04',
            japanese: '下',
            reading: 'した',
            romaji: 'shita',
            english: 'under; below',
            partOfSpeech: 'noun',
            category: 'Position',
          },
          {
            id: 'l04-v05',
            japanese: '中',
            reading: 'なか',
            romaji: 'naka',
            english: 'inside',
            partOfSpeech: 'noun',
            category: 'Position',
          },
          {
            id: 'l04-v06',
            japanese: '外',
            reading: 'そと',
            romaji: 'soto',
            english: 'outside',
            partOfSpeech: 'noun',
            category: 'Position',
          },
          {
            id: 'l04-v07',
            japanese: '前',
            reading: 'まえ',
            romaji: 'mae',
            english: 'front; before',
            partOfSpeech: 'noun',
            category: 'Position',
          },
          {
            id: 'l04-v08',
            japanese: '後ろ',
            reading: 'うしろ',
            romaji: 'ushiro',
            english: 'back; behind',
            partOfSpeech: 'noun',
            category: 'Position',
          },
          {
            id: 'l04-v09',
            japanese: '右',
            reading: 'みぎ',
            romaji: 'migi',
            english: 'right',
            partOfSpeech: 'noun',
            category: 'Position',
          },
          {
            id: 'l04-v10',
            japanese: '左',
            reading: 'ひだり',
            romaji: 'hidari',
            english: 'left',
            partOfSpeech: 'noun',
            category: 'Position',
          },
          {
            id: 'l04-v11',
            japanese: '近く',
            reading: 'ちかく',
            romaji: 'chikaku',
            english: 'near; nearby',
            partOfSpeech: 'noun',
            category: 'Position',
          },
          {
            id: 'l04-v12',
            japanese: '隣',
            reading: 'となり',
            romaji: 'tonari',
            english: 'next to; neighbor',
            partOfSpeech: 'noun',
            category: 'Position',
          },
          {
            id: 'l04-v13',
            japanese: '間',
            reading: 'あいだ',
            romaji: 'aida',
            english: 'between',
            partOfSpeech: 'noun',
            category: 'Position',
          },
          // Places
          {
            id: 'l04-v14',
            japanese: '公園',
            reading: 'こうえん',
            romaji: 'kouen',
            english: 'park',
            partOfSpeech: 'noun',
            category: 'Places',
          },
          {
            id: 'l04-v15',
            japanese: 'スーパー',
            reading: 'スーパー',
            romaji: 'suupaa',
            english: 'supermarket',
            partOfSpeech: 'noun',
            category: 'Places',
          },
          {
            id: 'l04-v16',
            japanese: 'デパート',
            reading: 'デパート',
            romaji: 'depaato',
            english: 'department store',
            partOfSpeech: 'noun',
            category: 'Places',
          },
          {
            id: 'l04-v17',
            japanese: '病院',
            reading: 'びょういん',
            romaji: 'byouin',
            english: 'hospital',
            partOfSpeech: 'noun',
            category: 'Places',
          },
          {
            id: 'l04-v18',
            japanese: 'ホテル',
            reading: 'ホテル',
            romaji: 'hoteru',
            english: 'hotel',
            partOfSpeech: 'noun',
            category: 'Places',
          },
          {
            id: 'l04-v19',
            japanese: '本屋',
            reading: 'ほんや',
            romaji: 'honya',
            english: 'bookstore',
            partOfSpeech: 'noun',
            category: 'Places',
          },
          {
            id: 'l04-v20',
            japanese: '町',
            reading: 'まち',
            romaji: 'machi',
            english: 'town; city',
            partOfSpeech: 'noun',
            category: 'Places',
          },
          // Things
          {
            id: 'l04-v21',
            japanese: '猫',
            reading: 'ねこ',
            romaji: 'neko',
            english: 'cat',
            partOfSpeech: 'noun',
            category: 'Animals',
          },
          {
            id: 'l04-v22',
            japanese: '犬',
            reading: 'いぬ',
            romaji: 'inu',
            english: 'dog',
            partOfSpeech: 'noun',
            category: 'Animals',
          },
          {
            id: 'l04-v23',
            japanese: '木',
            reading: 'き',
            romaji: 'ki',
            english: 'tree',
            partOfSpeech: 'noun',
            category: 'Nature',
          },
          {
            id: 'l04-v24',
            japanese: '花',
            reading: 'はな',
            romaji: 'hana',
            english: 'flower',
            partOfSpeech: 'noun',
            category: 'Nature',
          },
          // Frequency adverbs
          {
            id: 'l04-v25',
            japanese: 'いつも',
            reading: 'いつも',
            romaji: 'itsumo',
            english: 'always',
            partOfSpeech: 'adverb',
            category: 'Frequency',
          },
          {
            id: 'l04-v26',
            japanese: 'たいてい',
            reading: 'たいてい',
            romaji: 'taitei',
            english: 'usually',
            partOfSpeech: 'adverb',
            category: 'Frequency',
          },
          {
            id: 'l04-v27',
            japanese: 'よく',
            reading: 'よく',
            romaji: 'yoku',
            english: 'often; well',
            partOfSpeech: 'adverb',
            category: 'Frequency',
          },
          {
            id: 'l04-v28',
            japanese: '時々',
            reading: 'ときどき',
            romaji: 'tokidoki',
            english: 'sometimes',
            partOfSpeech: 'adverb',
            category: 'Frequency',
          },
          {
            id: 'l04-v29',
            japanese: 'あまり',
            reading: 'あまり',
            romaji: 'amari',
            english: 'not very; not much',
            partOfSpeech: 'adverb',
            category: 'Frequency',
            notes: 'Used with negative verbs',
          },
          {
            id: 'l04-v30',
            japanese: '全然',
            reading: 'ぜんぜん',
            romaji: 'zenzen',
            english: 'not at all',
            partOfSpeech: 'adverb',
            category: 'Frequency',
            notes: 'Used with negative verbs',
          },
          // Other verbs
          {
            id: 'l04-v31',
            japanese: '住む',
            reading: 'すむ',
            romaji: 'sumu',
            english: 'to live; to reside',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l04-v32',
            japanese: '働く',
            reading: 'はたらく',
            romaji: 'hataraku',
            english: 'to work',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l04-v33',
            japanese: '知る',
            reading: 'しる',
            romaji: 'shiru',
            english: 'to know',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          {
            id: 'l04-v34',
            japanese: '持つ',
            reading: 'もつ',
            romaji: 'motsu',
            english: 'to have; to hold',
            partOfSpeech: 'verb',
            category: 'Verbs',
          },
          // Time expressions
          {
            id: 'l04-v35',
            japanese: '先週',
            reading: 'せんしゅう',
            romaji: 'senshuu',
            english: 'last week',
            partOfSpeech: 'noun',
            category: 'Time',
          },
          {
            id: 'l04-v36',
            japanese: '来週',
            reading: 'らいしゅう',
            romaji: 'raishuu',
            english: 'next week',
            partOfSpeech: 'noun',
            category: 'Time',
          },
          {
            id: 'l04-v37',
            japanese: '去年',
            reading: 'きょねん',
            romaji: 'kyonen',
            english: 'last year',
            partOfSpeech: 'noun',
            category: 'Time',
          },
          {
            id: 'l04-v38',
            japanese: '来年',
            reading: 'らいねん',
            romaji: 'rainen',
            english: 'next year',
            partOfSpeech: 'noun',
            category: 'Time',
          },
          // Expressions
          {
            id: 'l04-v39',
            japanese: '～人',
            reading: '～にん',
            romaji: '~nin',
            english: 'counter for people',
            partOfSpeech: 'counter',
            category: 'Counters',
            notes: '一人(ひとり), 二人(ふたり), 三人(さんにん)...',
          },
          {
            id: 'l04-v40',
            japanese: '～匹',
            reading: '～ひき',
            romaji: '~hiki',
            english: 'counter for small animals',
            partOfSpeech: 'counter',
            category: 'Counters',
            notes: 'Changes to ぴき or びき depending on the number',
          },
        ],
      },
    },
    {
      id: 'l04-grammar',
      type: 'grammar',
      title: 'Grammar',
      titleJapanese: 'ぶんぽう',
      content: {
        grammar: [
          {
            id: 'l04-g01',
            title: 'Xがある/いる (Existence)',
            pattern: '[Place]に[Thing/Person]が{ある/いる}',
            explanation:
              'Japanese uses two different verbs for existence: ある (aru) for inanimate objects and plants, and いる (iru) for living beings like people and animals. The location is marked with に, and the subject (what exists) is marked with が. This pattern describes what exists at a location.',
            examples: [
              {
                japanese: '机の上に本があります。',
                reading: 'つくえのうえにほんがあります。',
                english: 'There is a book on the desk.',
                breakdown: '机の上(on the desk) + に + 本(book) + が + あります(exists)',
              },
              {
                japanese: '公園に猫がいます。',
                reading: 'こうえんにねこがいます。',
                english: 'There is a cat in the park.',
                breakdown: '公園(park) + に + 猫(cat) + が + います(exists)',
              },
              {
                japanese: '教室に学生が三人います。',
                reading: 'きょうしつにがくせいがさんにんいます。',
                english: 'There are three students in the classroom.',
                breakdown: '教室(classroom) + に + 学生(student) + が + 三人(three people) + います',
              },
            ],
            culturalNote:
              'This ある/いる distinction reflects how Japanese categorizes the world. Interestingly, robots and fictional characters are often described with いる because they are personified.',
          },
          {
            id: 'l04-g02',
            title: 'Xは[Place]にある/いる (Location)',
            pattern: '[Thing/Person]は[Place]に{ある/いる}',
            explanation:
              'When you want to tell someone WHERE something is located (rather than WHAT exists somewhere), you use は to mark the topic and describe its location. The location is still marked with に. This is the opposite word order from the existence pattern.',
            examples: [
              {
                japanese: '銀行は駅の近くにあります。',
                reading: 'ぎんこうはえきのちかくにあります。',
                english: 'The bank is near the station.',
                breakdown: '銀行(bank) + は + 駅の近く(near the station) + に + あります',
              },
              {
                japanese: '山田さんは図書館にいます。',
                reading: 'やまださんはとしょかんにいます。',
                english: 'Mr. Yamada is at the library.',
                breakdown: '山田さん + は + 図書館(library) + に + います',
              },
              {
                japanese: '私の傘はどこにありますか。',
                reading: 'わたしのかさはどこにありますか。',
                english: 'Where is my umbrella?',
                breakdown: '私の傘(my umbrella) + は + どこ(where) + に + ありますか',
              },
            ],
          },
          {
            id: 'l04-g03',
            title: 'Position Words',
            pattern: '[Reference Point]の[Position Word]',
            explanation:
              'Position words (上, 下, 中, 前, 後ろ, 右, 左, 近く, 隣, 間) are connected to reference points using の. Think of の as showing possession: "the desk\'s top" = "on the desk." For 間 (between), use と to connect two items: AとBの間 (between A and B).',
            examples: [
              {
                japanese: 'テーブルの下に猫がいます。',
                reading: 'テーブルのしたにねこがいます。',
                english: 'There is a cat under the table.',
                breakdown: 'テーブルの下(under the table) + に + 猫 + が + います',
              },
              {
                japanese: 'コンビニは銀行の隣にあります。',
                reading: 'コンビニはぎんこうのとなりにあります。',
                english: 'The convenience store is next to the bank.',
                breakdown: 'コンビニ + は + 銀行の隣(next to the bank) + に + あります',
              },
              {
                japanese: '郵便局は駅とスーパーの間にあります。',
                reading: 'ゆうびんきょくはえきとスーパーのあいだにあります。',
                english: 'The post office is between the station and the supermarket.',
                breakdown: '郵便局 + は + 駅とスーパーの間(between station and supermarket) + に + あります',
              },
            ],
          },
          {
            id: 'l04-g04',
            title: 'Past Tense of です',
            pattern: '[Noun]でした (affirmative) / [Noun]じゃなかったです (negative)',
            explanation:
              'To express past states with nouns and な-adjectives, change です to でした for affirmative past, and じゃないです to じゃなかったです for negative past. This describes what something WAS or WAS NOT.',
            examples: [
              {
                japanese: '昨日は日曜日でした。',
                reading: 'きのうはにちようびでした。',
                english: 'Yesterday was Sunday.',
                breakdown: '昨日(yesterday) + は + 日曜日(Sunday) + でした(was)',
              },
              {
                japanese: '映画はあまり面白くなかったです。',
                reading: 'えいがはあまりおもしろくなかったです。',
                english: "The movie wasn't very interesting.",
                breakdown: '映画 + は + あまり + 面白くなかった(wasn\'t interesting) + です',
              },
              {
                japanese: '田中さんは学生じゃなかったです。',
                reading: 'たなかさんはがくせいじゃなかったです。',
                english: "Tanaka wasn't a student.",
                breakdown: '田中さん + は + 学生 + じゃなかったです(wasn\'t)',
              },
            ],
          },
          {
            id: 'l04-g05',
            title: 'Past Tense of Verbs',
            pattern:
              'Verb ます → ました (affirmative) / Verb ません → ませんでした (negative)',
            explanation:
              'To form past tense of verbs in polite form, change ます to ました for affirmative past ("did"), and ません to ませんでした for negative past ("didn\'t"). This is consistent and applies to all verbs.',
            examples: [
              {
                japanese: '昨日、図書館で勉強しました。',
                reading: 'きのう、としょかんでべんきょうしました。',
                english: 'I studied at the library yesterday.',
                breakdown: '昨日 + 図書館で(at library) + 勉強しました(studied)',
              },
              {
                japanese: '先週、映画を見ませんでした。',
                reading: 'せんしゅう、えいがをみませんでした。',
                english: "I didn't watch a movie last week.",
                breakdown: '先週(last week) + 映画を + 見ませんでした(didn\'t watch)',
              },
              {
                japanese: '今朝、朝ご飯を食べましたか。',
                reading: 'けさ、あさごはんをたべましたか。',
                english: 'Did you eat breakfast this morning?',
                breakdown: '今朝(this morning) + 朝ご飯を(breakfast) + 食べましたか(did you eat?)',
              },
            ],
            culturalNote:
              'When talking about past events in Japanese, it\'s common to set the time frame first (昨日, 先週, etc.) to provide context before describing the action.',
          },
          {
            id: 'l04-g06',
            title: 'Frequency Adverbs',
            pattern: 'いつも/たいてい/よく/時々 + Verb / あまり/全然 + Negative Verb',
            explanation:
              'Frequency adverbs indicate how often something happens. Positive adverbs (いつも always, たいてい usually, よく often, 時々 sometimes) are used with affirmative verbs. Negative adverbs (あまり not much, 全然 not at all) MUST be used with negative verbs. Word order: frequency adverb comes before the verb.',
            examples: [
              {
                japanese: 'いつも七時に起きます。',
                reading: 'いつもしちじにおきます。',
                english: 'I always wake up at 7 o\'clock.',
                breakdown: 'いつも(always) + 七時に(at 7) + 起きます(wake up)',
              },
              {
                japanese: '時々、日本の映画を見ます。',
                reading: 'ときどき、にほんのえいがをみます。',
                english: 'I sometimes watch Japanese movies.',
                breakdown: '時々(sometimes) + 日本の映画を + 見ます',
              },
              {
                japanese: 'あまりテレビを見ません。',
                reading: 'あまりテレビをみません。',
                english: "I don't watch TV much.",
                breakdown: 'あまり(not much) + テレビを + 見ません(don\'t watch)',
              },
              {
                japanese: '全然運動しません。',
                reading: 'ぜんぜんうんどうしません。',
                english: "I don't exercise at all.",
                breakdown: '全然(not at all) + 運動しません(don\'t exercise)',
              },
            ],
            culturalNote:
              'Using あまり or 全然 with positive verbs is a common mistake for learners. These words require negative endings to sound natural in Japanese.',
          },
        ],
      },
    },
    {
      id: 'l04-culture',
      type: 'culture',
      title: 'Culture Note',
      titleJapanese: 'ぶんかノート',
      content: {
        culturalNote: {
          id: 'l04-c01',
          title: 'Dating Culture in Japan',
          content:
            'Dating in Japan often follows different patterns than Western countries. A first date (初めてのデート) typically involves activities like going to a movie, having a meal, or visiting a popular spot. Japanese people often value shared experiences and quality time over expensive gestures. "Going Dutch" (割り勘/warikan - splitting the bill) is common among young people, though traditionally men might offer to pay. Confession of romantic feelings (告白/kokuhaku) is considered important to officially start a relationship, rather than gradually transitioning from dating. Public displays of affection are generally modest in Japan compared to Western cultures.',
          relatedLesson: 'genki1-lesson04',
        },
      },
    },
  ],
  audioTracks: generateLessonAudioTracks('genki1', 4, 16),
};
